# This Makefile has been generated by runtest.py
TOP=../..
TEST=dhry
TEST_DIR_FROM_TOP=ctests/dhry
TEST_DIR=$(TOP)/$(TEST_DIR_FROM_TOP)

C_DEFINES += -DNO_RD_INST=1
C_COMPILER_PREFIX=riscv32-unknown-elf-
C_COMPILER_CC=$(C_COMPILER_PREFIX)gcc
C_COMPILER_OBJDUMP=$(C_COMPILER_PREFIX)objdump
C_COMPILER_OBJCOPY=$(C_COMPILER_PREFIX)objcopy
C_COMPILER_MAKEHEX=$(TOP)/common/scripts/makehex.py
C_COMPILER_ARCH_OPT=-m32 -march=RV32IMC
C_COMPILER_WARNINGS=-Wall 
C_COMPILER_OPTIMISATION_OPTIONS=-O3
C_COMPILER_TARGET_OPTIONS=
C_COMPILER_LINKER_SCRIPT_PATH=$(TOP)/common/linker_scripts
C_COMPILER_LINKER_SCRIPT=$(LINKER_SCRIPT_PATH)/nanorv32_rom_sram.ld
C_COMPILER_STARTUP_CODE=$(TOP)/common/startup/startup.S
C_COMPILER_STARTUP_CODE_OPT= -D_STARTUP_DATA_INIT_ -D_STARTUP_BSS_INIT_
C_COMPILER_DEFAULT_LIB_OPT=-ffreestanding -nostdlib
C_COMPILER_EXTRA_C_SOURCES= $(TOP)/common/clib/printf-stdarg.c 
C_COMPILER_EXTRA_INCDIRS=-I$(TOP)/common/clib
C_COMPILER_EXTRA_DEFINES= -DTIME 
VERILOG_PARAMETER += +simulation_timeout_ns=10000000
VERILOG_PARAMETER += +simulation_default_exit_address=0x00000100
C_DEFINES += -DSIMULATION_DEFAULT_EXIT_ADDRESS=0x00000100
VERILOG_DEFINES += -DSIMULATION_DEFAULT_EXIT_ADDRESS=0x00000100
VERILOG_PARAMETER += +simulation_testbench_name=tb_nanorv32
SIMULATION_TESTBENCH_NAME=tb_nanorv32
VERILOG_DEFINES += -DAHBMLI_SYNTHESIS=1
SIMULATOR_ICARUS_OPTIONS=-g2005 -DIVERILOG=1 -DTRACE=trace.iverilog.txt
SIMULATOR_ICARUS_WARNINGS=-Wall -W no-timescale
SIMULATOR_ICARUS_VVP_OPT= +trace=trace.iverilog.txt
SIMULATOR_ICARUS_GUI=
SIMULATOR_VERILATOR_OPTIONS= --cc --error-limit 2000
SIMULATOR_VERILATOR_WARNINGS= 
SIMULATOR_VERILATOR_GUI=
SIMULATOR_XILINX_XVLOG_OPTIONS=$(XILINX_VIVADO)/data/verilog/src/glbl.v --define TRACE=trace.iverilog.txt
SIMULATOR_XILINX_XELAB_OPTIONS= --relax --debug all -L unisims_ver $(SIMULATION_TESTBENCH_NAME) glbl  
SIMULATOR_XILINX_XSIM_OPTIONS= work.$(SIMULATION_TESTBENCH_NAME)\#work.glbl -testplusarg trace=trace.iverilog.txt
SIMULATOR_XILINX_XSIM_BATCH_OR_GUI= -runall 
SIMULATOR_PYSIM_OPTIONS=  --trace=trace.iverilog.txt


include ../../sim/config/gcc.mk
include ../../sim/config/icarus.mk
include ../../sim/config/verilator.mk
include ../../sim/config/xilinx.mk
include ../../sim/config/pysim.mk


debug:
	@echo "Hello world"

